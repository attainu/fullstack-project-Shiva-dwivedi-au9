(this.webpackJsonpCorpEnviro=this.webpackJsonpCorpEnviro||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},146:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(18),c=a.n(l),o=(a(83),a(5)),s=a(3),u=a(31),i=a(37),m=a(8),p=a(9),d=a(33),E=[{title:"OverView",path:"/home",icon:r.a.createElement(i.a,null),cName:"nav-text"},{title:"Attendance",path:"/attendance",icon:r.a.createElement(d.a,null),cName:"nav-text"},{title:"Team",path:"/team",icon:r.a.createElement(d.c,null),cName:"nav-text"},{title:"Leave",path:"/apply_leave",icon:r.a.createElement(d.a,null),cName:"nav-text"},{title:"Tasks",path:"/tasks",icon:r.a.createElement(u.b,null),cName:"nav-text"},{title:"Support",path:"/support",target:"_blank",icon:r.a.createElement(d.b,null),cName:"nav-text"}],h=(a(90),a(0)),f=a(15),v=a.n(f),b=a(19),g={LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAIL:"LOGIN_FAIL",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGOUT_FAIL:"LOGOUT_FAIL"},y=a(4),j=a.n(y),O={FETCH_USER_SUCCESS:"FETCH_USER_SUCCESS",FETCH_USER_FAIL:"FETCH_USER_FAIL"},k=localStorage.getItem("token"),_=function(e){return function(){var e=Object(b.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://corpenviro-backend.herokuapp.com/api/auth/userinfo",{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":k}});case 3:a=e.sent,n=a.data,t({type:O.FETCH_USER_SUCCESS,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&t({type:O.FETCH_USER_FAIL,payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},S=localStorage.getItem("token");var C=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{logout:function(t){e(function(e){return function(t){try{t({type:g.LOGOUT_SUCCESS,payload:{}}),e.push("/login"),localStorage.removeItem("token"),localStorage.removeItem("auth"),sessionStorage.removeItem("role"),t({type:O.FETCH_USER_SUCCESS,payload:{}})}catch(a){console.error(a),t({type:g.LOGOUT_FAIL,payload:{}})}}}(t))},fetchUser:function(){return e(_())}}}))((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(m.e)(),d=e.user,f=e.logout,v=e.fetchUser;Object(n.useEffect)((function(){v()}),[]),sessionStorage.setItem("role",d.department);var b=function(){return c(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b.Provider,{value:{color:"#fff"}},r.a.createElement("div",{className:"navbar"},r.a.createElement(p.b,{to:"#",className:"menu-bars"},r.a.createElement(u.a,{onClick:b})),r.a.createElement("div",{className:"AuthBtn"},S?r.a.createElement("div",{className:"navData"},r.a.createElement("h5",{className:"username"},"Hello ",d.name),r.a.createElement("button",{onClick:function(){f(o),sessionStorage.removeItem("date"),localStorage.removeItem("username"),localStorage.removeItem("password")}},r.a.createElement(p.b,{to:"/login"},"Logout"))):r.a.createElement("div",null," ",r.a.createElement("button",{className:"register"},r.a.createElement(p.b,{to:"/register"},"Register")),r.a.createElement("button",{className:"login"},r.a.createElement(p.b,{to:"/login"},"Login"))))),r.a.createElement("nav",{className:l?"nav-menu active":"nav-menu"},r.a.createElement("ul",{className:"nav-menu-items",onClick:b},r.a.createElement("li",{className:"navbar-toggle"},r.a.createElement(p.b,{to:"#",className:"menu-bars"},r.a.createElement(i.b,null))),E.map((function(e,t){return r.a.createElement("li",{key:t,className:e.cName},r.a.createElement(p.b,{to:e.path,target:e.target},e.icon,r.a.createElement("span",null,e.title)))})),"HR"===d.role?r.a.createElement("div",null,r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/allEmployees"},r.a.createElement("i",{class:"fas fa-users"}),r.a.createElement("span",null,"View Employees"))),r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/leaves"},r.a.createElement("i",{class:"fas fa-sign-out-alt"}),r.a.createElement("span",null,"View Leaves"))),r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/register"},r.a.createElement("i",{class:"fas fa-user-plus"}),r.a.createElement("span",null,"Add User")))):r.a.createElement(r.a.Fragment,null),"TeamLead"===d.role?r.a.createElement("div",null,r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/CreateTask"},r.a.createElement("i",{class:"fas fa-tasks"}),r.a.createElement("span",null,"Create Task"))),r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/announcement"},r.a.createElement("i",{class:"fas fa-bullhorn"}),r.a.createElement("span",null,"Announcements"))),r.a.createElement("li",{className:"nav-text"},r.a.createElement(p.b,{to:"/allEmployees"},r.a.createElement("i",{class:"fas fa-users"}),r.a.createElement("span",null,"View Employees")))):r.a.createElement(r.a.Fragment,null)))))})),N=a(46),A=a.n(N),L=(a(61),a(112),a(71)),T=a.n(L);var U=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Announcements").then((function(e){return e.json()})).then((function(e){return l(e)}))}),2e3)}),[]),r.a.createElement("div",null,r.a.createElement(T.a,{type:"fadeInFromLeft",duration:"8000ms",delay:"1s",direction:"alternate",timing:"ease-out",iteration:"infinite",fillMode:"none"},function(e){if(e)return e.map((function(e){return r.a.createElement("div",{className:"DisplayAnnouncements"},r.a.createElement("p",null,e.Announcement))}))}(a)))};var I=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Allemployees").then((function(e){return e.json()})).then((function(e){l(e)}))}),1e3)}),[]),r.a.createElement("div",{className:"filtereByGender"},r.a.createElement("div",{className:"filterFemale"},r.a.createElement("h5",null,"Female Employees"),function(e){if(e)return r.a.createElement("div",{style:{color:"black",fontSize:"30px",fontWeight:"bold"}},e.filter((function(e){return"female"==e.gender})).length)}(a)),r.a.createElement("div",{className:"filterMale"},r.a.createElement("h5",null,"Male Employees"),function(e){if(e)return r.a.createElement("div",{style:{color:"black",fontSize:"30px",fontWeight:"bold"}},e.filter((function(e){return"male"==e.gender})).length)}(a)))};var w=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.fetchUser;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"profile"},r.a.createElement("h4",null,r.a.createElement("span",{className:"name"},"Name : "),t.name),r.a.createElement("h4",null,r.a.createElement("span",{className:"gender"},"Gender :"),t.gender),r.a.createElement("h4",null,r.a.createElement("span",{className:"dept"},"Department :"),t.department),r.a.createElement("h4",null,r.a.createElement("span",{className:"added"},"Added by : "),t.Employee_added_by),r.a.createElement("h4",null,r.a.createElement("span",{className:"joined"},"Joined on : "),t.joining_Date),r.a.createElement("h4",null,r.a.createElement("span",{className:"contact"},"Contact info: "),t.contactnumber," "),r.a.createElement("h4",null,r.a.createElement("span",{className:"role"},"Role :"),t.role," ")),r.a.createElement("div",{className:"display"},r.a.createElement(I,null),r.a.createElement("h3",null,"Important Announcements"),r.a.createElement(U,null)))}));localStorage.getItem("token");var D=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return r.a.createElement("div",{className:"home"},t.isLoggedIn?r.a.createElement("div",null,r.a.createElement(w,null)):r.a.createElement("h2",null," login first"))})),x=(a(62),a(72)),F=a.n(x),R=a(73),P=a.n(R);var q=function(){return Object(n.useEffect)((function(){A.a.init({offset:200,delay:10,duration:900})}),[]),r.a.createElement("div",{className:"landing"},r.a.createElement("section",{className:"section"},r.a.createElement("h1",null,"CorpEnviro"),r.a.createElement("p",null,"Our Project name Is CorpEnviro, And it is inspired by real time Employee Management system which most of companies have. This project was done by Hemanshu Upadhyay and Shiva Dwivedi under the mentorship of Akash Handa, in 3 weeks of timeline."),r.a.createElement("button",null,r.a.createElement(p.b,{to:"/login"},"Get Started")," ")),r.a.createElement("div",{className:"img1","data-aos":"zoom-in-left"},r.a.createElement("img",{src:F.a,alt:"Project Description"})),r.a.createElement("div",{className:"img2","data-aos":"zoom-in-right"},r.a.createElement("img",{src:P.a,alt:"Project Objective"})))},H=a(22),G=a(23),M=a(26),B=a(25),J=a(24),Y=(a(113),localStorage.getItem("token")),V=sessionStorage.getItem("date"),z=localStorage.getItem("count"),W=new Date,X=W.getFullYear()+"-"+parseInt(W.getMonth()+1)+"-"+W.getDate(),K=function(e){Object(B.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).renderAttendance=function(e){if(e){var t=n.props.user.attendance.find((function(e){return e.date==X}));return console.log(JSON.stringify(t)),sessionStorage.setItem("date",JSON.stringify(t)),r.a.createElement("h2",{className:"count"},(e.attendance.length/z*100).toFixed(2),"%")}},n.renderTLAttendance=function(e){if(e)return e.map((function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,e.Attendence.length),localStorage.setItem("count",e.Attendence.length))}))},n.state={Attendance:"",marked:!1,count:"",emp_count:""},n.props.fetchUser(),n.submitAttendance=n.submitAttendance.bind(Object(M.a)(n)),n.renderAttendance=n.renderAttendance.bind(Object(M.a)(n)),n.createAttendance=n.createAttendance.bind(Object(M.a)(n)),n}return Object(G.a)(a,[{key:"submitAttendance",value:function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/markAttendance",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Y}}),this.setState({marked:!0})}},{key:"createAttendance",value:function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/markTLAttendance",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Y}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"attendance"},"TeamLead"!==this.props.user.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"showCount"},r.a.createElement("h2",null,"Your Current Attendance is:"),this.renderAttendance(this.state.Attendance),r.a.createElement("h2",null,"Total Created Attendance :",this.renderTLAttendance(this.state.count))),r.a.createElement("div",{className:"markat"},null!==V||void 0!==V||this.state.marked?r.a.createElement("div",{className:"markedAttendance"},r.a.createElement("h2",null,"You have already marked your attendance for the day"),r.a.createElement("button",{disabled:!0},"Already Marked")):r.a.createElement("div",{className:"markAttendance"},r.a.createElement("h2",null,"Mark your attendance here"),r.a.createElement("button",{onClick:this.submitAttendance},"Submit Attendance")))):r.a.createElement("div",{className:"Create_attendance"},r.a.createElement("h2",{className:"TL_attendance"},"Create Attendance"),r.a.createElement("button",{onClick:this.createAttendance},"Create Attendance"),r.a.createElement("h4",{style:{color:"aliceblue"}},"Created attendance count : ",this.renderTLAttendance(this.state.count)," ")))}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/userinfo",{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Y}}).then((function(e){return e.json()})).then((function(t){return e.setState({Attendance:t})}))}),1e3),setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/employeattendence").then((function(e){return e.json()})).then((function(t){return e.setState({count:t})}))}),1e3)}}]),a}(n.Component),Q=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))(K),Z=a(2);a(114);var $=function(){return r.a.createElement("div",{className:"LeavePolicy"},r.a.createElement("p",null,r.a.createElement("span",null,"Annual Leave :"),r.a.createElement("br",null)," You will be eligible for 20 Annual leaves in a year on a prorated basis. You shall be entitled to accumulate as per permitted shops & establishment Act of applicable work location State law.",r.a.createElement("br",null),r.a.createElement("span",null,"Sick / Casual Leave -"),r.a.createElement("br",null)," You will be entitled 12 days of casual / Sick leave in a year on a prorated basis. You can utilize this leave incase of attending any personal work and rest well when you are unwell.",r.a.createElement("br",null),r.a.createElement("span",null,"Marriage Leave - "),r.a.createElement("br",null),"You are entitled to avail 5 days to free up your time to plan and enjoy your wedding.",r.a.createElement("br",null),r.a.createElement("span",null,"Tenure Leave - "),r.a.createElement("br",null),"Employees those complete 3, 5 and 7 years of service with Rupeek, will be eligible for tenure leave of 3, 5 & 7 days respectively on successful completion.",r.a.createElement("br",null),r.a.createElement("span",null,"Maternity & Paternity Leave -"),r.a.createElement("br",null)," Paid leave upto 6 months will be given as per maternity Act, 15 days of paternity leave will be an entitlement for welcoming and taking care of the newborn."))},ee=(a(115),function(e){Object(B.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).renderLeaves=function(e){if(e)return e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.Employee_name),r.a.createElement("td",null,e.Employee_division),r.a.createElement("td",null,e.Employee_department),r.a.createElement("td",null,e.Reason_for_leave),r.a.createElement("td",null,e.Leave_status)))}))},n.renderAllowed=function(e){if(e)return e.map((function(e){return r.a.createElement("div",{className:"allowed-sub"},r.a.createElement("h4",null,"You are allowed to have ",e.leaves," leaves per annum"))}))},n.state={myLeaves:"",allowed:""},n.props.fetchUser(),n}return Object(G.a)(a,[{key:"render",value:function(){return console.log("allowed",this.state.allowed),r.a.createElement("div",{className:"myLeave"},r.a.createElement($,null),this.state.myLeaves.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Your Current Leaves"),r.a.createElement("table",{class:" MyLeave table table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Division"),r.a.createElement("th",{scope:"col"},"Department"),r.a.createElement("th",{scope:"col"},"Reason"),r.a.createElement("th",{scope:"col"},"Status"))),r.a.createElement("tbody",null,this.renderLeaves(this.state.myLeaves))),r.a.createElement("div",{className:"allowed"},this.renderAllowed(this.state.allowed))):r.a.createElement("h2",null,"No Data Found"))}},{key:"componentDidMount",value:function(){var e=this,t="https://corpenviro-backend.herokuapp.com/api/auth/Leavebyemployee?User_id="+this.props.user._id;setInterval((function(){fetch(t).then((function(e){return e.json()})).then((function(t){return e.setState({myLeaves:t})}))}),1e3);var a=this.props.user.role;fetch("https://corpenviro-backend.herokuapp.com/api/auth/allowedLeave?role="+a).then((function(e){return e.json()})).then((function(t){return e.setState({allowed:t})}))}}]),a}(n.Component)),te=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))(ee),ae=localStorage.getItem("token");var ne=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.fetchUser,l=(t._id,Object(n.useState)({User_id:t._id,Employee_department:t.department,Employee_division:t.role,Employee_name:t.name})),c=Object(s.a)(l,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){a()}),[]),console.log("leavedata",o),r.a.createElement("div",null,r.a.createElement(te,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("leavedata",o),j.a.post("https://corpenviro-backend.herokuapp.com/api/auth/Applyforleave",o,{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":ae}}).then((function(e){return console.log(e)})),u("")}},r.a.createElement("div",{className:"applyLeave"},r.a.createElement("h2",null,"Apply for Leave"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",onLoad:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Employee_name:t}))},placeholder:"Enter Name",value:t.name,name:"Employee_name",id:"Employee_name",required:!0}),r.a.createElement("input",{type:"text",onSubmit:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Employee_division:t}))},placeholder:"Enter your division",defaultValue:t.role,name:"Employee_division",id:"Employee_division",required:!0}),r.a.createElement("input",{type:"text",onSubmit:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Employee_department:t}))},placeholder:"Enter your department",defaultValue:t.department,name:"Employee_department",id:"Employee_department",required:!0}),r.a.createElement("label",{htmlFor:"From?"},"From?"),r.a.createElement("input",{type:"date",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Leave_from:t}))},placeholder:"From?",name:"Leave_from",id:"Leave_from",required:!0}),r.a.createElement("label",{htmlFor:"To?"},"To?"),r.a.createElement("input",{type:"date",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Leave_to:t}))},placeholder:"To?",name:"Leave_to",id:"Leave_to",required:!0}),r.a.createElement("input",{type:"text",onSubmit:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{User_id:t}))},placeholder:"Enter your userID",defaultValue:t._id,name:"User_id",id:"User_id",required:!0})),r.a.createElement("input",{type:"text",height:"100",width:"500",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Reason_for_leave:t}))},placeholder:"Enter your Reason for applying the leave",name:"Reason_for_leave",id:"Reason_for_leave",required:!0}),r.a.createElement("button",{type:"submit",class:"leaveBtn"},"Apply for Leave"))))})),re=(a(116),localStorage.getItem("token")),le=sessionStorage.getItem("role");var ce=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.fetchUser,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),p=m[0],d=m[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),f=h[0],v=h[1],b=Object(n.useState)(""),g=Object(s.a)(b,2);g[0],g[1],Math.random(),Object(n.useEffect)((function(){a();var e="https://corpenviro-backend.herokuapp.com/api/auth/taskdetails1?Department="+le;setInterval((function(){fetch(e).then((function(e){return e.json()})).then((function(e){return u(e)}))}),1e3)}),[]);var y,j=function(e){v(e.target.value)},O=function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Deletetask",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":re},body:JSON.stringify({_id:e.target.value})},1e3)},k=function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Taskstatus",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":re},body:JSON.stringify({_id:e.target.value,Task_completed_by:t.name,Remark:f,Status:"Completed"})},1e3).then((function(e){return e.json()})).then((function(e){return console.log(e)}))};return r.a.createElement("div",{className:"tasks"},"TeamLead"!==t.role?r.a.createElement("div",null,(y=o)?y.map((function(e){return r.a.createElement("div",null,"Pending"===e.Status&&r.a.createElement("div",{className:"task_details"},r.a.createElement("h5",null,"#",e.id.toFixed(0)),r.a.createElement("h4",null,e.Task_name),r.a.createElement("h5",null,"Priority: ",e.Priority),r.a.createElement("h5",null,"Created By : ",e.Task_created_by),r.a.createElement("h5",null,"Deadline: ",e.Deadline," Days"),r.a.createElement("input",{onChange:j,type:"text",placeholder:"Write your comment"}),r.a.createElement("button",{onClick:k,value:e._id},"Mark as complete")))})):r.a.createElement("center",{style:{color:"white"}},r.a.createElement("h3",null,"No Tickets For Now"))):r.a.createElement("div",{className:"TL_Tasks"},r.a.createElement("h2",null,"View All tickets here"),r.a.createElement("select",{onChange:function(e){var t="https://corpenviro-backend.herokuapp.com/api/auth/taskdetails2?Status="+e.target.value;fetch(t).then((function(e){return e.json()})).then((function(e){return d(e)}))},name:"status",id:"status",required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Ticket Status"),r.a.createElement("option",{value:"Pending"},"Pending"),r.a.createElement("option",{value:"Completed"},"Completed")),function(e){if(e)return e.map((function(e){return r.a.createElement("div",{className:"TL_Tickets"},r.a.createElement("div",null,r.a.createElement("h4",null,e.Task_name),r.a.createElement("h5",null,"Priority: ",e.Priority),r.a.createElement("h5",null,"Deadline: ",e.Deadline," Days")),r.a.createElement("div",null,r.a.createElement("h5",null,"Status: ",e.Status),r.a.createElement("h5",null,"Completed By: ",e.Task_completed_by),r.a.createElement("h5",null,"Department:",e.Department," "),e.Remark?r.a.createElement("h5",null,"Remark: ",e.Remark):r.a.createElement("h5",null,"No Remarks Yet"),r.a.createElement("button",{value:e._id,onClick:O,className:"deleteTaskBtn"},r.a.createElement("i",{class:"fas fa-trash-alt"}))))}))}(p)))}));var oe=function(e){var t=e.errorHandler,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){o(!1),t.hasError&&o(!0)}),[t]),r.a.createElement("div",null,c?r.a.createElement("div",{className:"d-flex alert alert-danger"},r.a.createElement("p",{className:"mr-5"},t.message),r.a.createElement("button",{type:"button",className:"close",onClick:function(){o(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):"")},se={ADD_USER_SUCCESS:"ADD_USER_SUCCESS",ADD_USER_FAIL:"ADD_USER_FAIL"},ue=function(e,t,a){return function(){var n=Object(b.a)(v.a.mark((function n(r){var l,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.post("https://corpenviro-backend.herokuapp.com/api/auth/register",e);case 3:l=n.sent,c=l.data,console.log("add",c),r({type:se.ADD_USER_SUCCESS,payload:c}),a({hasError:!0,message:c.err||c.succ}),t.push("/allEmployees"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response&&(console.error(n.t0.response.data.error),r({type:se.ADD_USER_FAIL,payload:n.t0.response.data.error}));case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()};a(117);var ie=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())},AddUser:function(t,a,n){return e(ue(t,a,n))}}}))((function(e){var t=e.user,a=e.AddUser,l=e.fetchUser,c=Object(n.useState)({hasError:!1,message:""}),o=Object(s.a)(c,2),u=o[0],i=o[1],p=Object(n.useState)({}),d=Object(s.a)(p,2),E=d[0],h=d[1],f=Object(m.e)();Object(n.useEffect)((function(){l()}),[]);var v=function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{gender:t}))};return r.a.createElement("div",null,"HR"==t.role?r.a.createElement("form",{onSubmit:function(e){console.log("adding",E),e.preventDefault(),a(E,f,i)}},r.a.createElement("div",{className:"register"},r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{name:t}))},placeholder:"Enter Name",name:"name",id:"name",required:!0}),r.a.createElement("input",{type:"email",onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{email:t}))},placeholder:"Enter Email",name:"email",id:"email",required:!0}),r.a.createElement("input",{type:"password",onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{password:t}))},placeholder:"Enter Password",name:"password",id:"password",required:!0}),r.a.createElement("select",{onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{role:t}))},name:"role",id:"role"},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Role"),r.a.createElement("option",{value:"User"},"User"),r.a.createElement("option",{value:"HR"},"HR"),r.a.createElement("option",{value:"TeamLead"},"TeamLead")),r.a.createElement("select",{onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{department:t}))},name:"department",id:"department"},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Department"),r.a.createElement("option",{value:"IT"},"IT"),r.a.createElement("option",{value:"HR"},"HR"),r.a.createElement("option",{value:"Frontend"},"Frontend"),r.a.createElement("option",{value:"Backend"},"Backend")),r.a.createElement("div",{className:"Gender"},r.a.createElement("p",null,"Please select the gender:"),r.a.createElement("input",{type:"radio",id:"male",name:"gender",value:"male",onChange:v}),r.a.createElement("label",{for:"male"},"Male"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:v}),r.a.createElement("label",{for:"female"},"Female"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"other",name:"gender",value:"other",onChange:v}),r.a.createElement("label",{for:"other"},"Other"),r.a.createElement("br",null)),r.a.createElement("input",{onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{contactnumber:t}))},type:"number",placeholder:"Enter contact number",name:"contactnumber",id:"contactnumber",required:!0}),r.a.createElement("input",{onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{joining_Date:t}))},type:"date",placeholder:"Enter Joining Date",name:"joining_Date",id:"joining_Date"}),r.a.createElement("input",{onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{Employee_added_by:t}))},type:"text",placeholder:"Who's adding the employee?",name:"Employee_added_by",id:"Employee_added_by"}),r.a.createElement(oe,{errorHandler:u}),r.a.createElement("button",{type:"submit",class:"registerbtn"},"Add User")),r.a.createElement("div",{class:"container signin"})):r.a.createElement("h2",null,"You don't have access to add a user"))}));a(118);var me=Object(o.b)((function(e){return{user:e.auth}}),(function(e){return{login:function(t,a,n){e(function(e,t,a){return function(){var n=Object(b.a)(v.a.mark((function n(r){var l,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.post("https://corpenviro-backend.herokuapp.com/api/auth/login",e);case 3:l=n.sent,c=l.data,console.log(c),r({type:g.LOGIN_SUCCESS,payload:c}),t.push("/home"),window.location.reload(),localStorage.setItem("token",c.token),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),n.t0.response&&(console.error(n.t0.response.data.error),r({type:g.LOGIN_FAIL,payload:n.t0.response.data.error})),a({hasError:!0,message:n.t0.response.data.error});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.login,l=e.fetchUser,c=Object(n.useState)({hasError:!1,message:""}),o=Object(s.a)(c,2),u=o[0],i=o[1],p=Object(n.useState)({}),d=Object(s.a)(p,2),E=d[0],h=d[1],f=Object(m.e)();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(E),console.log(t),a(E,f,i),l()}},r.a.createElement("div",{className:"Logincontainer"},r.a.createElement("h1",null,"Welcome to CorpEnviro"),r.a.createElement("input",{type:"email",onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{email:t}))},placeholder:"Enter Email",name:"email",id:"email",required:!0}),r.a.createElement("input",{type:"password",onChange:function(e){var t=e.target.value;h(Object(Z.a)(Object(Z.a)({},E),{password:t}))},placeholder:"Enter Password",name:"psw",id:"psw",required:!0}),r.a.createElement(oe,{errorHandler:u}),r.a.createElement("hr",null),r.a.createElement("button",{type:"submit",className:"Loginbtn"},"Login"))))}));function pe(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",{className:"Title"},r.a.createElement(p.b,{to:"/"},"CorpEnviro")),r.a.createElement("nav",null,r.a.createElement("button",null,r.a.createElement(p.b,{to:"/login"},"Login")," "))))}a(119),a(63);var de=a(38),Ee=localStorage.getItem("token");var he=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.fetchUser,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),p=m[0],d=m[1],E=Object(n.useState)({}),h=Object(s.a)(E,2),f=h[0],v=h[1],b=function(){return d(!1)};Object(n.useEffect)((function(){a(),setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Allemployees").then((function(e){return e.json()})).then((function(e){u(e)}))}),1e3)}),[]);var g=function(e){var t="https://corpenviro-backend.herokuapp.com/api/auth/Allemployees2?_id="+e.target.value;console.log(t),fetch(t).then((function(e){return e.json()})).then((function(e){v(e)})),d(!0)},y=function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Deleteemployee",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Ee},body:JSON.stringify({_id:e.target.value})},1e3),alert("Do you really want to delete this user?")};return r.a.createElement(r.a.Fragment,null,"HR"===t.role||"TeamLead"===t.role?r.a.createElement("div",{className:"employee"},r.a.createElement("table",{class:" MyLeave table table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Department"),r.a.createElement("th",{scope:"col"},"Attendance"),r.a.createElement("th",{scope:"col"},"E-mail"),r.a.createElement("th",{scope:"col"},"Added By"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Contact Number"),r.a.createElement("th",{className:"action",scope:"col"},"Action"))),r.a.createElement("tbody",null,function(e){if(e)return e.map((function(e){return r.a.createElement("tr",null,e._id!==t._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.department),r.a.createElement("td",null,e.attendance.length),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.Employee_added_by),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,e.contactnumber),r.a.createElement("td",null,r.a.createElement("button",{value:e._id,onClick:g,className:"edit"},r.a.createElement("i",{class:"fas fa-user-edit"})),r.a.createElement("button",{value:e._id,onClick:y,className:"delete"},r.a.createElement("i",{class:"fas fa-trash-alt"})))),"  ")}))}(o))),r.a.createElement(de.a,{open:p,onClose:b,center:!0},r.a.createElement("form",{onSubmit:function(e){console.log("adding",f),e.preventDefault(),fetch("https://corpenviro-backend.herokuapp.com/api/auth/updateemployeedetails",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Ee},body:JSON.stringify(f)},1e3).then((function(e){return e.json()})).then((function(e){return console.log(e)})),b()}},r.a.createElement("div",{className:"update"},r.a.createElement("h2",null,"Update a User"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;v(Object(Z.a)(Object(Z.a)({},f),{name:t}))},placeholder:"Enter Name",value:f.name,name:"name",id:"name",required:!0}),r.a.createElement("input",{type:"email",onChange:function(e){var t=e.target.value;v(Object(Z.a)(Object(Z.a)({},f),{email:t}))},value:f.email,placeholder:"Enter Email",name:"email",id:"email",required:!0}),r.a.createElement("select",{value:f.role,onChange:function(e){var t=e.target.value;v(Object(Z.a)(Object(Z.a)({},f),{role:t}))},name:"role",id:"role"},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Role"),r.a.createElement("option",{value:"User"},"User"),r.a.createElement("option",{value:"HR"},"HR"),r.a.createElement("option",{value:"TeamLead"},"TeamLead")),r.a.createElement("select",{value:f.department,onChange:function(e){var t=e.target.value;v(Object(Z.a)(Object(Z.a)({},f),{department:t}))},name:"department",id:"department"},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Department"),r.a.createElement("option",{value:"IT"},"IT"),r.a.createElement("option",{value:"HR"},"HR"),r.a.createElement("option",{value:"Frontend"},"Frontend"),r.a.createElement("option",{value:"Backend"},"Backend")),r.a.createElement("input",{onChange:function(e){var t=e.target.value;v(Object(Z.a)(Object(Z.a)({},f),{contactnumber:t}))},value:f.contactnumber,type:"number",placeholder:"Enter contact number",name:"contactnumber",id:"contactnumber",required:!0}),r.a.createElement("button",{type:"submit",class:"registerbtn"},"Update User")),r.a.createElement("div",{class:"container signin"})))):r.a.createElement("h2",null,"You don't have access to this page"))})),fe="https://corpenviro-backend.herokuapp.com/api/auth/updateleavestatus",ve=localStorage.getItem("token"),be=function(e){Object(B.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).accept=function(e){console.log(e.target.value),fetch(fe,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":ve},body:JSON.stringify({_id:e.target.value,Leave_status:"ACCEPTED"})},1e3).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.reject=function(e){console.log(e.target.value),fetch(fe,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":ve},body:JSON.stringify({_id:e.target.value,Leave_status:"CANCELLED"})},1e3).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.renderAllLeaves=function(e){if(e)return e.map((function(e){return r.a.createElement("tr",null,e.User_id!==n.props.user._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.Employee_name),r.a.createElement("td",null,e.Employee_division),r.a.createElement("td",null,e.Employee_department),r.a.createElement("td",null,e.Reason_for_leave),r.a.createElement("td",null,e.Leave_from),r.a.createElement("td",null,e.Leave_to),r.a.createElement("td",null,"Pending"===e.Leave_status&&r.a.createElement("button",{value:e._id,onClick:n.accept,style:{backgroundColor:"green",color:"white",marginRight:"20px",marginTop:"6px",padding:"5px"}},"Accept"),"Pending"===e.Leave_status&&r.a.createElement("button",{value:e._id,onClick:n.reject,style:{backgroundColor:"red",color:"white",padding:"5px"}},"Reject"),"ACCEPTED"===e.Leave_status&&r.a.createElement("button",{style:{backgroundColor:"green",color:"white",marginRight:"20px",marginTop:"6px",padding:"5px"}},"Accepted"),"CANCELLED"===e.Leave_status&&r.a.createElement("button",{style:{backgroundColor:"red",color:"white",marginRight:"20px",marginTop:"6px",padding:"5px"}},"Cancelled"))),"  ")}))},n.state={leaveReq:""},n}return Object(G.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"myLeave"},this.state.leaveReq.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"All Leaves"),r.a.createElement("table",{class:" MyLeave table table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Division"),r.a.createElement("th",{scope:"col"},"Department"),r.a.createElement("th",{scope:"col"},"Reason"),r.a.createElement("th",{scope:"col"},"From"),r.a.createElement("th",{scope:"col"},"To"),r.a.createElement("th",{className:"action",scope:"col"},"Action"))),r.a.createElement("tbody",null,this.renderAllLeaves(this.state.leaveReq)))):r.a.createElement("h2",null,"No Data Found"))}},{key:"componentDidMount",value:function(){var e=this;this.props.fetchUser(),setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/leaverequests").then((function(e){return e.json()})).then((function(t){return e.setState({leaveReq:t})}))}),1e3)}}]),a}(n.Component),ge=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))(be),ye=(a(120),"https://corpenviro-backend.herokuapp.com/api/auth/AllEmployees3?department="+sessionStorage.getItem("role"));var je=Object(o.b)((function(e){return{user:e.userProfile.user}}))((function(e){var t=e.user,a=(e.fetchUser,Object(n.useState)("")),l=Object(s.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){setInterval((function(){fetch(ye).then((function(e){return e.json()})).then((function(e){o(e)}))}),500)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"team"},r.a.createElement("h1",null,"Team Diary"),r.a.createElement("table",{class:" MyLeave table table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Department"),r.a.createElement("th",{scope:"col"},"Attendance"),r.a.createElement("th",{scope:"col"},"E-mail"),r.a.createElement("th",{scope:"col"},"Joined on"),r.a.createElement("th",{scope:"col"},"Added By"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Contact Number"))),r.a.createElement("tbody",null,function(e){if(e)return e.map((function(e){return r.a.createElement("tr",null,e._id!==t._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.department),r.a.createElement("td",null,e.attendance.length),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.joining_Date),r.a.createElement("td",null,e.Employee_added_by),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,e.contactnumber)))}))}(c)))))})),Oe=a(27),ke=(a(146),function(e){var t=e.message;return t.attachments&&t.attachments.length>0?r.a.createElement("img",{src:t.attachments[0].file,alt:"message-attachment",className:"message-image",style:{float:"right"}}):r.a.createElement("div",{className:"message",style:{float:"right",marginRight:"18px",color:"white",backgroundColor:"#3B2A50"}},t.text)}),_e=function(e){var t=e.lastMessage,a=e.message,n=!t||t.sender.username!==a.sender.username;return r.a.createElement("div",{className:"message-row"},n&&r.a.createElement("div",{className:"message-avatar",style:{backgroundImage:a.sender&&"url(".concat(a.sender.avatar,")")}}),a.attachments&&a.attachments.length>0?r.a.createElement("img",{src:a.attachments[0].file,alt:"message-attachment",className:"message-image",style:{marginLeft:n?"4px":"48px"}}):r.a.createElement("div",{className:"message",style:{float:"left",backgroundColor:"#CABCDC",marginLeft:n?"4px":"48px"}},a.text))},Se=a(155),Ce=a(156),Ne=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],o=e.chatId,u=e.creds,i=function(e){e.preventDefault();var t=l.trim();t.length>0&&Object(Oe.o)(u,o,{text:t}),c("")};return r.a.createElement("form",{className:"message-form",onSubmit:i},r.a.createElement("input",{className:"message-input",placeholder:"Send a message...",value:l,onChange:function(t){c(t.target.value),Object(Oe.l)(e,o)},onSubmit:i}),r.a.createElement("label",{htmlFor:"upload-button"},r.a.createElement("span",{className:"image-button"},r.a.createElement(Se.a,{className:"picture-icon"}))),r.a.createElement("input",{type:"file",multiple:!1,id:"upload-button",style:{display:"none"},onChange:function(e){Object(Oe.o)(u,o,{files:e.target.files,text:""})}.bind(void 0)}),r.a.createElement("button",{type:"submit",className:"send-button"},r.a.createElement(Ce.a,{className:"send-icon"})))},Ae=function(e){var t=e.chats,a=e.activeChat,n=e.userName,l=e.messages,c=t&&t[a];return c?r.a.createElement("div",{className:"chat-feed"},r.a.createElement("div",{className:"chat-title-container"},r.a.createElement("div",{className:"chat-title"},null===c||void 0===c?void 0:c.title),r.a.createElement("div",{className:"chat-subtitle"},c.people.map((function(e){return" ".concat(e.person.username)})))),function(){var e=Object.keys(l);return e.map((function(t,a){var o=l[t],s=0===a?null:e[a-1],u=n===o.sender.username;return r.a.createElement("div",{key:"msg_".concat(a),style:{width:"100%"}},r.a.createElement("div",{className:"message-block"},u?r.a.createElement(ke,{message:o}):r.a.createElement(_e,{message:o,lastMessage:l[s]})),r.a.createElement("div",{className:"read-receipts",style:{marginRight:u?"18px":"0px",marginLeft:u?"0px":"68px"}},function(e,t){return c.people.map((function(a,n){return a.last_read===e.id&&r.a.createElement("div",{key:"read_".concat(n),className:"read-receipt",style:{float:t?"right":"left",backgroundImage:a.person.avatar&&"url(".concat(a.person.avatar,")")}})}))}(o,u)))}))}(),r.a.createElement("div",{style:{height:"100px"}}),r.a.createElement("div",{className:"message-form-container"},r.a.createElement(Ne,Object.assign({},e,{chatId:a})))):r.a.createElement("div",null)},Le=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],i=o[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),d=p[0],E=p[1],h=function(){var e=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={"Project-ID":"2ba69b22-15f7-46a2-a34b-fe162d9e36a8","User-Name":a,"User-Secret":u},e.prev=2,e.next=5,j.a.get("https://api.chatengine.io/chats",{headers:n});case 5:localStorage.setItem("username",a),localStorage.setItem("password",u),window.location.reload(),E(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),E("Oops, incorrect credentials.");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form"},r.a.createElement("h1",{className:"title"},"CorpEnviro Support"),r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{type:"text",value:a,onChange:function(e){return l(e.target.value)},className:"input",placeholder:"Username",required:!0}),r.a.createElement("input",{type:"password",value:u,onChange:function(e){return i(e.target.value)},className:"input",placeholder:"Password",required:!0}),r.a.createElement("div",{align:"center"},r.a.createElement("button",{type:"submit",className:"button"},r.a.createElement("span",null,"Start chatting")))),r.a.createElement("h1",null,d)))};var Te=function(){return localStorage.getItem("username")?r.a.createElement(Oe.d,{height:"88vh",projectID:"2ba69b22-15f7-46a2-a34b-fe162d9e36a8",userName:localStorage.getItem("username"),userSecret:localStorage.getItem("password"),renderChatFeed:function(e){return r.a.createElement(Ae,e)},onNewMessage:function(){return new Audio("https://chat-engine-assets.s3.amazonaws.com/click.mp3").play()}}):r.a.createElement(Le,null)},Ue=(a(149),localStorage.getItem("token"));var Ie=Object(o.b)((function(e){return{user:e.userProfile.user}}),(function(e){return{fetchUser:function(){return e(_())}}}))((function(e){var t=e.user,a=e.fetchUser,l=Object(n.useState)({}),c=Object(s.a)(l,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"create_task"},"TeamLead"===t.role?r.a.createElement("div",{className:"createTask"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("https://corpenviro-backend.herokuapp.com/api/auth/createtask",o,{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":Ue}}).then((function(e){return console.log(e)})),alert("Task has been created successfully"),o({})}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"Task_name"},"Task Name"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Task_name:t}))},placeholder:"Tagline for Task",name:"Task_name",id:"Task_name",required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"Task_created_by"},"Task Created By"),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Task_created_by:t}))},placeholder:"Who's creating the Task",name:"Task_created_by",id:"Task_created_by",required:!0})),r.a.createElement("select",{onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Department:t}))},name:"Department",id:"Department",required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Department"),r.a.createElement("option",{value:"IT"},"IT"),r.a.createElement("option",{value:"HR"},"HR"),r.a.createElement("option",{value:"Frontend"},"Frontend"),r.a.createElement("option",{value:"Backend"},"Backend")),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"Deadline"},"Deadline in Days"),r.a.createElement("input",{type:"number",onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Deadline:t}))},placeholder:"Deadline?",name:"Deadline",id:"Deadline",required:!0})),r.a.createElement("select",{onChange:function(e){var t=e.target.value;u(Object(Z.a)(Object(Z.a)({},o),{Priority:t}))},name:"Priority",id:"Priority",required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Choose Priority"),r.a.createElement("option",{value:"Urgent"},"URGENT"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Normal"},"Normal")),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Create Task")))):r.a.createElement("center",null,r.a.createElement("h2",{style:{color:"white"}},"You don't have access to this page")))})),we=(a(150),localStorage.getItem("token"));var De=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(s.a)(c,2),u=o[0],i=o[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),d=p[0],E=p[1],h=function(){return E(!1)};Object(n.useEffect)((function(){setInterval((function(){fetch("https://corpenviro-backend.herokuapp.com/api/auth/Announcements").then((function(e){return e.json()})).then((function(e){return l(e)}))}),2e3)}),[]);var f=function(e){fetch("https://corpenviro-backend.herokuapp.com/api/auth/DeleteAnnouncement",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":we},body:JSON.stringify({_id:e.target.value})},1e3)};return r.a.createElement("div",{className:"ann"},r.a.createElement("div",{className:"createAnnouncement"},r.a.createElement("button",{onClick:function(){return E(!0)}},"Create New Announcement",r.a.createElement("i",{class:"fas fa-plus-square"})),r.a.createElement(de.a,{open:d,onClose:h,center:!0},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("https://corpenviro-backend.herokuapp.com/api/auth/Createannoucement",u,{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":we}}).then((function(e){return console.log(e)})),i(""),h()}},r.a.createElement("label",{htmlFor:"Announcement_Subject"},"Subject"),r.a.createElement("input",{onChange:function(e){var t=e.target.value;i(Object(Z.a)(Object(Z.a)({},u),{Announcement_Subject:t}))},type:"text",placeholder:"Enter the subject",name:"Announcement_Subject",required:!0}),r.a.createElement("label",{htmlFor:"Announcement"},"Announcement"),r.a.createElement("input",{onChange:function(e){var t=e.target.value;i(Object(Z.a)(Object(Z.a)({},u),{Announcement:t}))},type:"text",placeholder:"Enter the Announcement",name:"Announcement",required:!0}),r.a.createElement("label",{htmlFor:"Announcement_created_by"},"Created by"),r.a.createElement("input",{onChange:function(e){var t=e.target.value;i(Object(Z.a)(Object(Z.a)({},u),{Announcement_created_by:t}))},type:"text",placeholder:"Who's creating it?",name:"Announcement_created_by",required:!0}),r.a.createElement("button",{className:"createBTN",type:"submit"},"Create Announcement")))),r.a.createElement("h2",null,"All Announcements"),function(e){if(e)return e.map((function(e){return r.a.createElement("div",{className:"allAnnouncements"},r.a.createElement("div",null,r.a.createElement("h4",null,"Subject : ",e.Announcement_Subject," "),r.a.createElement("p",null,e.Announcement),r.a.createElement("h6",null,"Created By : ",e.Announcement_created_by)),r.a.createElement("button",{onClick:f,className:"delBTN",value:e._id},r.a.createElement("i",{class:"fas fa-trash-alt"})))}))}(a))};localStorage.getItem("token");var xe=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,t.isLoggedIn?r.a.createElement(C,null):r.a.createElement(pe,null),r.a.createElement(m.a,{exact:!0,path:"/",component:q}),r.a.createElement(m.a,{path:"/home",component:D}),r.a.createElement(m.a,{path:"/attendance",component:Q}),r.a.createElement(m.a,{path:"/apply_leave",component:ne}),r.a.createElement(m.a,{path:"/tasks",component:ce}),r.a.createElement(m.a,{path:"/team",component:je}),r.a.createElement(m.a,{path:"/register",component:ie}),r.a.createElement(m.a,{path:"/login",component:me}),r.a.createElement(m.a,{path:"/allEmployees",component:he}),r.a.createElement(m.a,{path:"/leaves",component:ge}),r.a.createElement(m.a,{path:"/support",component:Te}),r.a.createElement(m.a,{path:"/CreateTask",component:Ie}),r.a.createElement(m.a,{path:"/announcement",component:De})))})),Fe=a(20),Re={isLoggedIn:!1,user:{auth:"",jwttoken:""}},Pe=function(){try{var e=localStorage.getItem("auth"),t=JSON.parse(e),a=t.user,n=a.auth,r=a.jwttoken;return n?(j.a.defaults.headers.common.Authorization="Bearer ".concat(r),t):Re}catch(l){return Re}}(),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.LOGIN_SUCCESS:var a={isLoggedIn:!0,user:t.payload};return j.a.defaults.headers.common.Authorization="Bearer ".concat(t.payload.jwttoken),localStorage.setItem("auth",JSON.stringify(a)),a;case g.LOGOUT_SUCCESS:case g.LOGOUT_FAIL:return localStorage.removeItem("auth"),Re;case g.LOGIN_FAIL:default:return e}return e},He={message:""},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.LOGIN_FAIL:case g.LOGOUT_FAIL:case se.ADD_USER_FAIL:return{message:t.payload};default:return e}},Me=(localStorage.getItem("token"),{loading:!1,user:[],errors:""}),Be={loading:!1,user:[],errors:""},Je=Object(Fe.c)({auth:qe,authError:Ge,userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.FETCH_USER_SUCCESS:return{loading:!1,user:t.payload,errors:""};case O.FETCH_USER_FAIL:return{loading:!1,user:[],errors:t.payload};default:return e}},addUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.ADD_USER_SUCCESS:return{loading:!1,user:t.payload,errors:""};case se.ADD_USER_FAIL:return{loading:!1,user:[],errors:t.payload};default:return e}}}),Ye=function(e,t){return t.type===g.LOGOUT_SUCCESS&&(e=void 0),Je(e,t)},Ve=a(77),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Fe.d,We=Object(Fe.e)(Ye,ze(Object(Fe.a)(Ve.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:We},r.a.createElement(xe,null))),document.getElementById("root"))},62:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/FE_BE.7cd65917.png"},73:function(e,t,a){e.exports=a.p+"static/media/Objective.785dc5eb.png"},78:function(e,t,a){e.exports=a(151)},83:function(e,t,a){},90:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.8d7f39d8.chunk.js.map